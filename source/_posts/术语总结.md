---
title: 术语总结
categories: 微服务
tags: 微服务
keywords: 微服务
abbrlink: facec4eb
date: 2018-07-16 19:15:00
---

## 发布

* 蓝绿部署
* A/B测试
* 灰度发布

### 蓝绿部署

蓝绿部署是一种以可预测的方式发布应用的技术，目的是是安全稳定地发布新版本应用，并在必要时回滚。

你需要准备两个相同的环境(以下称为蓝色和绿色环境)，在蓝色环境中运行当前生产环境中的应用（旧版本），在率环境中运行新版本的应用，并进行测试。如果没有问题就把负载均衡器/反向代理/路由指向蓝色环境。


### A/B测试

A/B测试是用来测试应用功能表现的方法。例如可用性、受欢迎程度、可见性等等。一般应用在前端上。

A/B测试目的在于通过科学的实验设计、采样样本代表性、流量分割与小流量测试等方式来获得具有代表性的实验结论，并确信该结论在推广到全部流量可信

### 灰度发布／金丝雀发布

灰度发布是在原有版本可用的情况下，同时部署一个新版本应用作为“金丝雀”（金丝雀对瓦斯极敏感，矿井工人携带金丝雀，以便及时发发现危险），测试新版本的性能和表现，以保障整体系统稳定的情况下，尽早发现、调整问题。

灰度发布／金丝雀发布由以下几个步骤组成：

* 准备好部署各个阶段的工件，包括：构建工件，测试脚本，配置文件和部署清单文件。
* 从负载均衡列表中移除掉“金丝雀”服务器。
* 升级“金丝雀”应用（排掉原有流量并进行部署）。
* 对应用进行自动化测试。
* 将“金丝雀”服务器重新添加到负载均衡列表中（连通性和健康检查）。
* 如果“金丝雀”在线使用测试成功，升级剩余的其他服务器。（否则就回滚）

## 负载均衡

负载均衡(Load Balance，简称LB)是一种服务器或网络设备的集群技术。负载均衡将特定的业务(网络服务、网络流量等)分担给多个服务器或网络设备，从而提高了业务处理能力，保证了业务的高可用性。负载均衡基本概念有：实服务、实服务组、虚服务、调度算法、持续性等

### nginx 反向代理和负载均衡

网站的访问量越来越大，服务器的服务模式也得进行相应的升级，比如分离出数据库服务器、分离出图片作为单独服务，这些是简单的数据的负载均衡，将压力分散到不同的机器上。有时候来自web前端的压力，也能让人十分头痛。怎样将同一个域名的访问分散到两台或更多的机器上呢？这其实就是另一种负载均衡了，nginx自身就可以做到，只需要做个简单的配置就行。
　　nginx不单可以作为强大的web服务器，也可以作为一个反向代理服务器，而且nginx还可以按照调度规则实现动态、静态页面的分离，可以按照轮询、ip哈希、URL哈希、权重等多种方式对后端服务器做负载均衡，同时还支持后端服务器的健康检查。

## 请求分片

### Node.js 中实现 HTTP 206 内容分片 

[地址](https://www.oschina.net/translate/http-partial-content-in-node-js)


## 无感知动态扩容

1.是无感知，即用户来说服务ip和port保持不变

2.动态扩容，指的是在需要时刻可以按照业务增加接口。

## 服务熔断

服务熔断一般是指软件系统中，由于某些原因使得服务出现了过载现象，为防止造成整个系统故障，从而采用的一种保护措施，所以很多地方把熔断亦称为过载保护。

